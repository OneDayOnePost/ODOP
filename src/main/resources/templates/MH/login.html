<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>로그인</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!--Bootstrap 용 CSS-->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <!--Bootstrap 용 Icon CDN-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <!--font awesome 용-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!--google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <!--CSS-->
    <link th:href="@{/css/header.css}" rel="stylesheet">
    <style>
        #main {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #login_box {
            border: 1.5px solid #A2B2CD;
            background: rgba(254, 254, 254, 0.65);
        }

        #box_row1 {
            padding: 120px 0px 50px 0px;
        }

        #box_row2 {
            padding-bottom: 50px;
        }

        .login_input {
            border: none;
            background: #EFEFEF;
            width: 330px;
            height: 40px;
            border-radius: 5px;
        }

        .login_span {
            font-weight: 400;
            font-size: 20px;
            line-height: 40px;
        }

        #login_button {
            width: 208px;
            height: 70px;
            border-radius: 2px;
            border: solid 0px;
            background: #1D3563;
            color: #FFF;
            font-size: 20px;
        }

        #join_button {
            border: 1.5px solid #A2B2CD;
            background: rgba(254, 254, 254, 0.65);
            font-size: 20px;
            width: 450px;
            height: 60px;
        }

        #join_guide {
            font-size: 20px;
            font-style: normal;
            font-weight: 800;
            line-height: 60px;
        }

        .login_social {
            border-radius: 100%;
            width: 80px;
            height: 80px;
        }

        .login_social:hover {
            cursor: pointer;
        }

        #divider {
            border: 0;
            height: 2px;
            background: #213251;
        }
    </style>
</head>

<body>
    <!--header 영역-->
    <div th:replace="~{fragments/header :: header}"></div>

    <!--main 영역-->
    <div id="main">
        <div id="wrapper" class="container">

            <h3>LOGIN</h3>
            <hr id="divider" class="mb-5">
            <div id="login_box" class="container">
                <form id="login_form" th:action="@{/loginaction.do}" method="post">
                    <div id="box_row1" class="row">
                        <div class="col-7 d-flex justify-content-end me-2">
                            <div>
                                <div class="mb-4 d-flex">
                                    <span class="login_span me-auto pe-4 align-items-center">이메일</span>
                                    <input id="login_email" class="login_input" type="text" name="email">
                                </div>
                                <div class="d-flex">
                                    <span class="login_span me-auto pe-4">비밀번호</span>
                                    <input id="login_pw" class="login_input" type="password" name="password">
                                </div>
                            </div>
                        </div>
                        <div class="col-4 ms-4">
                            <div class="d-flex align-items-center">
                                <button id="login_button" type="button" onclick="loginAction()">로그인</button>
                            </div>
                            <div class="d-flex pt-2">
                                <a href="#" class="nav-link"><span>아이디 찾기</span></a>
                                <span class="vr mx-2"></span>
                                <a href="#" class="nav-link"><span>비밀번호 찾기</span></a>
                            </div>
                        </div>
                    </div>
                    <div id="box_row2" class="row">
                        <div class="d-flex justify-content-center" style="padding-left: 100px;">
                            <img onclick="naver_login()" class="login_social mx-3" th:src="@{/images/logo_naver.png}"
                                style="width: 50px; height: 50px;">
                            <img class="login_social mx-3" th:src="@{/images/logo_kakao.png}"
                                style="width: 50px; height: 50px;">
                            <img onclick="google_login()" class="login_social mx-3" th:src="@{/images/logo_google.png}"
                                style="width: 50px; height: 50px; border: lightgray 1px solid;">
                            <!-- <img class="login_social mx-3" th:src="@{/images/logo_apple.png}"
                                style="width: 50px; height: 50px; border: lightgray 1px solid;"> -->
                        </div>
                    </div>
                </form>
            </div>
            <div class="row d-flex justify-content-center mt-5">
                <div class="col-5 d-flex justify-content-center">
                    <span id="join_guide">아직도 회원이 아니신가요?</span>
                </div>
                <div class="col-5 d-flex justify-content-center">
                    <button id="join_button">이메일로 가입하기</button>
                </div>
            </div>

        </div>
    </div>


    <!-- Swiper -->
    <!-- <div class="swiper">
        <div class="swiper-wrapper">

            <div th:replace="~{fragments/aside :: aside}"></div>

            <div class="swiper-slide content">

                <div class="menu-button">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>

                <div th:replace="~{MH/Mhheader :: header}"> </div>

                

            </div>

        </div>

    </div> -->

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

    <script>
        // Initialize Swiper
        // var menuButton = document.querySelector('.menu-button');
        // var openMenu = function () {
        //     swiper.slidePrev();
        // };
        // var swiper = new Swiper('.swiper', {
        //     slidesPerView: 'auto',
        //     initialSlide: 1,
        //     resistanceRatio: 0,
        //     slideToClickedSlide: true,
        //     on: {
        //         slideChangeTransitionStart: function () {
        //             var slider = this;
        //             if (slider.activeIndex === 0) {
        //                 menuButton.classList.add('cross');
        //                 // required because of slideToClickedSlide
        //                 menuButton.removeEventListener('click', openMenu, true);
        //             } else {
        //                 menuButton.classList.remove('cross');
        //             }
        //         },
        //         slideChangeTransitionEnd: function () {
        //             var slider = this;
        //             if (slider.activeIndex === 1) {
        //                 menuButton.addEventListener('click', openMenu, true);
        //             }
        //         },
        //     },
        // });

        function loginAction() {

            const email = document.querySelector("#login_email");
            const password = document.querySelector("#login_pw");

            // 1. 로그인 유효성 검사
            if (email.value.length <= 0) {
                alert('아이디를 입력하세요');
                email.focus();
                return false;
            }
            if (password.value.length <= 0) {
                alert('비밀번호를 입력하세요');
                password.focus();
                return false;
            }

            // 2. 로그인 처리
            document.querySelector("#login_form").submit();

        }

        function naver_login() {
            // 함수 작동 확인 -> 삭제해도 됩니다
            console.log(1);
        }

        function google_login() {
            console.log(2);

            const url = `https://accounts.google.com/o/oauth2/v2/auth?client_id=` +
                process.env.VUE_APP_GOOGLE_CLIENT_ID +
                '&redirect_uri=' +
                process.env.VUE_APP_GOOGLE_REDIRECT_URL +
                '&response_type=code' +
                '&scope=email profile';

            this.showSocialLoginPopup(url)
        }

    </script>
</body>

</html>